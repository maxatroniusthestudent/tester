<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FinanceFlow ‚Äî Personal Finance</title>
  <link rel="stylesheet" href="css/styles.css" />

  <!-- –ú—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è loader, —â–æ–± –≤—ñ–Ω –±—É–≤ –≤–∏–¥–∏–º–∏–π –º–∏—Ç—Ç—î–≤–æ (–Ω–∞–≤—ñ—Ç—å –¥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è CSS) -->
  <style>
    .loader{position:fixed;inset:0;display:grid;place-items:center;z-index:9999;background:#0b0f17}
    .loader--hidden{opacity:0;pointer-events:none;transition:opacity .35s ease}
  </style>

  <!-- –ü–æ–∫–∞–∑—É–≤–∞—Ç–∏ loader —Ç–∞–∫–æ–∂ –ø—ñ—Å–ª—è F5/–æ–Ω–æ–≤–ª–µ–Ω–Ω—è -->
  <script>
    (function(){
      try{
        var shouldShow = sessionStorage.getItem('ff_show_loader') === '1';
        if(shouldShow) document.documentElement.classList.add('ff-refresh');
      }catch(e){}
    })();
  </script>
</head>

<body class="page" data-theme="dark">
  <!-- LOADER -->
  <div class="loader" id="loader" aria-hidden="false">
    <div class="loader__card">
      <div class="loader__brand">
        <div class="loader__mark">‚Ç¥</div>
        <div class="loader__text">
          <div class="loader__title">FinanceFlow</div>
          <div class="loader__subtitle">loading personal finance‚Ä¶</div>
        </div>
      </div>

      <div class="loader__ring" aria-hidden="true"></div>

      <div class="loader__progress" aria-hidden="true">
        <div class="loader__bar"></div>
      </div>

      <div class="loader__hint">–ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö ‚Ä¢ localStorage ‚Ä¢ offline</div>
    </div>
  </div>

  <div class="app" id="appRoot">
    <aside class="sidebar">
      <div class="sidebar__brand">
        <div class="logo">
          <div class="logo__mark">‚Ç¥</div>
          <div class="logo__text">
            <div class="logo__title">FinanceFlow</div>
            <div class="logo__subtitle">personal finance</div>
          </div>
        </div>
      </div>

      <nav class="nav">
        <button class="nav__item nav__item--active" data-route="dashboard">
          <span class="nav__icon">üìä</span><span class="nav__label">–î–∞—à–±–æ—Ä–¥</span>
        </button>
        <button class="nav__item" data-route="transactions">
          <span class="nav__icon">üßæ</span><span class="nav__label">–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó</span>
        </button>
        <button class="nav__item" data-route="budgets">
          <span class="nav__icon">üéØ</span><span class="nav__label">–ë—é–¥–∂–µ—Ç–∏</span>
        </button>
        <button class="nav__item" data-route="goals">
          <span class="nav__icon">üèÅ</span><span class="nav__label">–¶—ñ–ª—ñ</span>
        </button>
        <button class="nav__item" data-route="reports">
          <span class="nav__icon">üìà</span><span class="nav__label">–ó–≤—ñ—Ç–∏</span>
        </button>
        <button class="nav__item" data-route="settings">
          <span class="nav__icon">‚öôÔ∏è</span><span class="nav__label">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</span>
        </button>
      </nav>

      <div class="sidebar__footer">
        <div class="chip">
          <span class="chip__dot"></span>
          <span class="chip__text">localStorage ‚Ä¢ offline</span>
        </div>
      </div>
    </aside>

    <main class="main">
      <header class="topbar">
        <div class="topbar__left">
          <div class="topbar__title" id="pageTitle">–î–∞—à–±–æ—Ä–¥</div>
          <div class="topbar__meta" id="pageMeta">–û–≥–ª—è–¥ —Ñ—ñ–Ω–∞–Ω—Å—ñ–≤ –∑–∞ –ø–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å</div>
        </div>

        <div class="topbar__right">
          <button class="btn btn--ghost" id="btnTheme" title="–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É">üåó</button>

          <button class="btn btn--ghost" id="btnExportCSV" title="–ï–∫—Å–ø–æ—Ä—Ç CSV">‚¨áÔ∏è CSV</button>
          <label class="btn btn--ghost topbar__file">
            ‚¨ÜÔ∏è CSV
            <input type="file" id="fileImportCSV" accept=".csv" />
          </label>

          <button class="btn btn--primary" id="btnAddTransaction">+ –¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è</button>
        </div>
      </header>

      <section class="content">
        <!-- DASHBOARD -->
        <div class="view view--active" data-view="dashboard">
          <div class="grid grid--cards">
            <article class="card stat">
              <div class="stat__label">–ë–∞–ª–∞–Ω—Å</div>
              <div class="stat__value" id="statBalance">0</div>
              <div class="stat__hint" id="statBalanceHint">–°—É–º–∞ –≤—Å—ñ—Ö –¥–æ—Ö–æ–¥—ñ–≤ –º—ñ–Ω—É—Å –≤–∏—Ç—Ä–∞—Ç–∏</div>
            </article>

            <article class="card stat">
              <div class="stat__label">–î–æ—Ö—ñ–¥ (–º—ñ—Å—è—Ü—å)</div>
              <div class="stat__value stat__value--good" id="statIncomeMonth">0</div>
              <div class="stat__hint" id="statIncomeHint">–ü–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å</div>
            </article>

            <article class="card stat">
              <div class="stat__label">–í–∏—Ç—Ä–∞—Ç–∏ (–º—ñ—Å—è—Ü—å)</div>
              <div class="stat__value stat__value--bad" id="statExpenseMonth">0</div>
              <div class="stat__hint" id="statExpenseHint">–ü–æ—Ç–æ—á–Ω–∏–π –º—ñ—Å—è—Ü—å</div>
            </article>

            <article class="card stat">
              <div class="stat__label">–ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è (–º—ñ—Å—è—Ü—å)</div>
              <div class="stat__value" id="statSavingsMonth">0</div>
              <div class="stat__hint" id="statSavingsHint">–î–æ—Ö—ñ–¥ - –≤–∏—Ç—Ä–∞—Ç–∏</div>
            </article>
          </div>

          <div class="grid grid--two">
            <article class="card">
              <div class="card__head">
                <div class="card__title">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∏—Ç—Ä–∞—Ç</div>
                <div class="card__subtitle">–¢–û–ü –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑–∞ –º—ñ—Å—è—Ü—å</div>
              </div>
              <div class="card__body">
                <canvas class="chart" id="chartPie" width="800" height="380"></canvas>
              </div>
            </article>

            <article class="card">
              <div class="card__head">
                <div class="card__title">–î–∏–Ω–∞–º—ñ–∫–∞ –±–∞–ª–∞–Ω—Å—É</div>
                <div class="card__subtitle">–û—Å—Ç–∞–Ω–Ω—ñ 30 –¥–Ω—ñ–≤</div>
              </div>
              <div class="card__body">
                <canvas class="chart" id="chartLine" width="800" height="380"></canvas>
              </div>
            </article>
          </div>

          <article class="card">
            <div class="card__head">
              <div>
                <div class="card__title">–û—Å—Ç–∞–Ω–Ω—ñ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó</div>
                <div class="card__subtitle">–®–≤–∏–¥–∫–∏–π –ø–µ—Ä–µ–≥–ª—è–¥</div>
              </div>
              <button class="btn btn--ghost" data-route-jump="transactions">–í—Å—ñ ‚Üí</button>
            </div>
            <div class="card__body">
              <div class="table">
                <div class="table__row table__row--head">
                  <div class="table__cell">–î–∞—Ç–∞</div>
                  <div class="table__cell">–¢–∏–ø</div>
                  <div class="table__cell">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</div>
                  <div class="table__cell">–ù–æ—Ç–∞—Ç–∫–∞</div>
                  <div class="table__cell table__cell--right">–°—É–º–∞</div>
                </div>
                <div id="recentTx"></div>
              </div>
            </div>
          </article>
        </div>

        <!-- TRANSACTIONS -->
        <div class="view" data-view="transactions">
          <article class="card">
            <div class="card__head">
              <div>
                <div class="card__title">–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ—ó</div>
                <div class="card__subtitle">–§—ñ–ª—å—Ç—Ä—É–π, —à—É–∫–∞–π, –µ–∫—Å–ø–æ—Ä—Ç—É–π</div>
              </div>
              <div class="toolbar">
                <input class="input" id="txSearch" placeholder="–ü–æ—à—É–∫ –ø–æ –Ω–æ—Ç–∞—Ç—Ü—ñ..." />
                <select class="select" id="txType">
                  <option value="all">–í—Å—ñ</option>
                  <option value="income">–î–æ—Ö—ñ–¥</option>
                  <option value="expense">–í–∏—Ç—Ä–∞—Ç–∞</option>
                </select>
                <select class="select" id="txCategory"></select>
                <input class="input" id="txFrom" type="date" />
                <input class="input" id="txTo" type="date" />
                <button class="btn btn--ghost" id="txReset">–°–∫–∏–Ω—É—Ç–∏</button>
              </div>
            </div>
            <div class="card__body">
              <div class="table">
                <div class="table__row table__row--head">
                  <div class="table__cell">–î–∞—Ç–∞</div>
                  <div class="table__cell">–¢–∏–ø</div>
                  <div class="table__cell">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</div>
                  <div class="table__cell">–ù–æ—Ç–∞—Ç–∫–∞</div>
                  <div class="table__cell table__cell--right">–°—É–º–∞</div>
                  <div class="table__cell table__cell--right">–î—ñ—ó</div>
                </div>
                <div id="txList"></div>
              </div>
            </div>
          </article>
        </div>

        <!-- BUDGETS -->
        <div class="view" data-view="budgets">
          <div class="grid grid--two">
            <article class="card">
              <div class="card__head">
                <div>
                  <div class="card__title">–ë—é–¥–∂–µ—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö</div>
                  <div class="card__subtitle">–õ—ñ–º—ñ—Ç–∏ –Ω–∞ –º—ñ—Å—è—Ü—å</div>
                </div>
              </div>
              <div class="card__body">
                <form class="form" id="budgetForm">
                  <div class="form__row">
                    <label class="field">
                      <span class="field__label">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</span>
                      <select class="select" id="budgetCategory"></select>
                    </label>
                    <label class="field">
                      <span class="field__label">–õ—ñ–º—ñ—Ç</span>
                      <input class="input" id="budgetLimit" type="number" min="0" step="0.01" placeholder="0.00" />
                    </label>
                    <button class="btn btn--primary" type="submit">–î–æ–¥–∞—Ç–∏/–û–Ω–æ–≤–∏—Ç–∏</button>
                  </div>
                </form>

                <div class="stack" id="budgetList"></div>
              </div>
            </article>

            <article class="card">
              <div class="card__head">
                <div>
                  <div class="card__title">–ü–æ—Ä–∞–¥–∏</div>
                  <div class="card__subtitle">–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –ø—ñ–¥–∫–∞–∑–∫–∏</div>
                </div>
              </div>
              <div class="card__body" id="budgetTips"></div>
            </article>
          </div>
        </div>

        <!-- GOALS -->
        <div class="view" data-view="goals">
          <div class="grid grid--two">
            <article class="card">
              <div class="card__head">
                <div>
                  <div class="card__title">–¶—ñ–ª—ñ</div>
                  <div class="card__subtitle">–ù–∞–∫–æ–ø–∏—á–µ–Ω–Ω—è —Ç–∞ –ø—Ä–æ–≥—Ä–µ—Å</div>
                </div>
              </div>
              <div class="card__body">
                <form class="form" id="goalForm">
                  <div class="form__row">
                    <label class="field">
                      <span class="field__label">–ù–∞–∑–≤–∞</span>
                      <input class="input" id="goalTitle" placeholder="–ù–∞–ø—Ä. PC / –ê–≤—Ç–æ / –ü–æ–¥–æ—Ä–æ–∂" />
                    </label>
                    <label class="field">
                      <span class="field__label">–¶—ñ–ª—å–æ–≤–∞ —Å—É–º–∞</span>
                      <input class="input" id="goalTarget" type="number" min="0" step="0.01" placeholder="0.00" />
                    </label>
                    <button class="btn btn--primary" type="submit">–°—Ç–≤–æ—Ä–∏—Ç–∏</button>
                  </div>
                </form>

                <div class="stack" id="goalList"></div>
              </div>
            </article>

            <article class="card">
              <div class="card__head">
                <div>
                  <div class="card__title">–ü–æ–ø–æ–≤–Ω–µ–Ω–Ω—è —Ü—ñ–ª—ñ</div>
                  <div class="card__subtitle">–®–≤–∏–¥–∫–µ –¥–æ–¥–∞–≤–∞–Ω–Ω—è</div>
                </div>
              </div>
              <div class="card__body">
                <form class="form" id="goalAddForm">
                  <div class="form__row">
                    <label class="field">
                      <span class="field__label">–¶—ñ–ª—å</span>
                      <select class="select" id="goalPick"></select>
                    </label>
                    <label class="field">
                      <span class="field__label">–°—É–º–∞</span>
                      <input class="input" id="goalAddAmount" type="number" min="0" step="0.01" placeholder="0.00" />
                    </label>
                    <button class="btn btn--primary" type="submit">–î–æ–¥–∞—Ç–∏</button>
                  </div>
                </form>
                <div class="note" id="goalNote"></div>
              </div>
            </article>
          </div>
        </div>

        <!-- REPORTS -->
        <div class="view" data-view="reports">
          <article class="card">
            <div class="card__head">
              <div>
                <div class="card__title">–ó–≤—ñ—Ç–∏</div>
                <div class="card__subtitle">–ê–Ω–∞–ª—ñ–∑ –ø–æ –ø–µ—Ä—ñ–æ–¥–∞—Ö</div>
              </div>
              <div class="toolbar">
                <input class="input" id="repFrom" type="date" />
                <input class="input" id="repTo" type="date" />
                <button class="btn btn--primary" id="repBuild">–ü–æ–±—É–¥—É–≤–∞—Ç–∏</button>
              </div>
            </div>
            <div class="card__body">
              <div class="grid grid--cards">
                <article class="card stat">
                  <div class="stat__label">–î–æ—Ö—ñ–¥</div>
                  <div class="stat__value stat__value--good" id="repIncome">0</div>
                </article>
                <article class="card stat">
                  <div class="stat__label">–í–∏—Ç—Ä–∞—Ç–∏</div>
                  <div class="stat__value stat__value--bad" id="repExpense">0</div>
                </article>
                <article class="card stat">
                  <div class="stat__label">–†—ñ–∑–Ω–∏—Ü—è</div>
                  <div class="stat__value" id="repNet">0</div>
                </article>
                <article class="card stat">
                  <div class="stat__label">–¢—Ä–∞–Ω–∑–∞–∫—Ü—ñ–π</div>
                  <div class="stat__value" id="repCount">0</div>
                </article>
              </div>

              <div class="grid grid--two">
                <article class="card">
                  <div class="card__head">
                    <div class="card__title">–í–∏—Ç—Ä–∞—Ç–∏ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è—Ö</div>
                    <div class="card__subtitle">–í–∏–±—Ä–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥</div>
                  </div>
                  <div class="card__body">
                    <canvas class="chart" id="chartRepPie" width="800" height="380"></canvas>
                  </div>
                </article>
                <article class="card">
                  <div class="card__head">
                    <div class="card__title">–î–∏–Ω–∞–º—ñ–∫–∞ (–Ω–µ—Ç—Ç–æ)</div>
                    <div class="card__subtitle">–ü–æ –¥–Ω—è—Ö</div>
                  </div>
                  <div class="card__body">
                    <canvas class="chart" id="chartRepLine" width="800" height="380"></canvas>
                  </div>
                </article>
              </div>
            </div>
          </article>
        </div>

        <!-- SETTINGS -->
        <div class="view" data-view="settings">
          <article class="card">
            <div class="card__head">
              <div>
                <div class="card__title">–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</div>
                <div class="card__subtitle">–í–∞–ª—é—Ç–∞, —Ç–µ–º–∞, –±–µ–∫–∞–ø</div>
              </div>
            </div>
            <div class="card__body">
              <div class="grid grid--two">
                <div class="panel">
                  <div class="panel__title">–í–∞–ª—é—Ç–∞</div>
                  <div class="panel__body">
                    <label class="field">
                      <span class="field__label">–°–∏–º–≤–æ–ª</span>
                      <input class="input" id="setCurrency" placeholder="‚Ç¥ –∞–±–æ $" />
                    </label>
                    <button class="btn btn--primary" id="setSaveCurrency">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
                  </div>
                </div>

                <div class="panel">
                  <div class="panel__title">–†–µ–∑–µ—Ä–≤–Ω–∞ –∫–æ–ø—ñ—è</div>
                  <div class="panel__body">
                    <button class="btn btn--ghost" id="btnExportJSON">–ï–∫—Å–ø–æ—Ä—Ç JSON</button>
                    <label class="btn btn--ghost topbar__file">
                      –Ü–º–ø–æ—Ä—Ç JSON
                      <input type="file" id="fileImportJSON" accept=".json" />
                    </label>
                    <button class="btn btn--danger" id="btnResetAll">–°–∫–∏–Ω—É—Ç–∏ –≤—Å–µ</button>
                    <div class="note note--muted">‚ö†Ô∏è –°–∫–∏–¥–∞–Ω–Ω—è –≤–∏–¥–∞–ª–∏—Ç—å –≤—Å—ñ –¥–∞–Ω—ñ –∑ localStorage.</div>
                  </div>
                </div>
              </div>
            </div>
          </article>
        </div>
      </section>
    </main>
  </div>

  <!-- MODAL -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="modal__backdrop" data-modal-close></div>
    <div class="modal__panel" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal__head">
        <div class="modal__title" id="modalTitle">–ù–æ–≤–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü—ñ—è</div>
        <button class="btn btn--ghost" data-modal-close>‚úï</button>
      </div>
      <div class="modal__body">
        <form class="form" id="txForm">
          <input type="hidden" id="txId" />
          <div class="form__grid">
            <label class="field">
              <span class="field__label">–¢–∏–ø</span>
              <select class="select" id="txFormType">
                <option value="expense">–í–∏—Ç—Ä–∞—Ç–∞</option>
                <option value="income">–î–æ—Ö—ñ–¥</option>
              </select>
            </label>

            <label class="field">
              <span class="field__label">–î–∞—Ç–∞</span>
              <input class="input" id="txFormDate" type="date" />
            </label>

            <label class="field">
              <span class="field__label">–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</span>
              <select class="select" id="txFormCategory"></select>
            </label>

            <label class="field">
              <span class="field__label">–°—É–º–∞</span>
              <input class="input" id="txFormAmount" type="number" step="0.01" min="0" placeholder="0.00" />
            </label>

            <label class="field field--full">
              <span class="field__label">–ù–æ—Ç–∞—Ç–∫–∞</span>
              <input class="input" id="txFormNote" placeholder="–ù–∞–ø—Ä. Costco, –±–µ–Ω–∑–∏–Ω, –∑–∞—Ä–ø–ª–∞—Ç–∞..." />
            </label>

            <div class="form__actions">
              <button class="btn btn--primary" type="submit">–ó–±–µ—Ä–µ–≥—Ç–∏</button>
              <button class="btn btn--ghost" type="button" data-modal-close>–°–∫–∞—Å—É–≤–∞—Ç–∏</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- TOAST -->
  <div class="toast" id="toast" aria-live="polite" aria-atomic="true"></div>

  <script src="js/app.js"></script>
</body>
</html>
